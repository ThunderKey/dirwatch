#!/usr/bin/env ruby

require 'dirwatch'
begin
  watcher = Dirwatch::Watcher.from_args ARGV
  watcher.start
rescue Dirwatch::Settings::FileNotFoundError => e
  puts "Could not find the file #{e.filename}"
  exit 1
end

begin
  sleep
rescue Interrupt
ensure
  puts "shutting down..."
  watcher.stop
end
